---
import LinkPage from "./LinkPage.astro";
import SocialLinks from "./SocialLinks.astro";
import VvidhyaLogo from "./VvidhyaLogo.astro";

const { navSection } = Astro.props;
---

<header class="header">
  <LinkPage href="/">
    <div class="flex flex-row items-center gap-1 md:gap-2">
      <VvidhyaLogo logoClass="header-logo-svg" />

      <h2 class="header-logo-text">V.Vidhya</h2>
    </div>
  </LinkPage>

  <button
    id="topbar-menu-btn"
    data-topbarmenu-state="close"
    class="text-2xl cursor-pointer mx-2 flex justify-center items-center sm:hidden"
    aria-label="Toggle Navigation Menu"
  >
    <svg
      data-state="open"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 448 512"
      class="util-icon"
      fill="currentColor"
      stroke="currentColor"
      stroke-width="15"
      aria-hidden="true"
    >
      <path
        d="M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"
      ></path></svg
    >
    <svg
      data-state="close"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 384 512"
      name="open"
      class="util-icon"
      fill="currentColor"
      stroke="currentColor"
      stroke-width="30"
      style="display: none;"
      aria-hidden="true"
    >
      <path
        d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"
      ></path></svg
    >
  </button>

  <div
    class="topbar-menu fixed left-[-640px] top-[50px] opacity-0 transition-transform ease-in sm:static sm:flex sm:opacity-100 sm:transition-none"
  >
    <div class="topbar-nav box-border h-full pb-20 sm:box-content sm:pb-0">
      <nav
        class="relative flex flex-col items-start gap-3 pb-10 pt-10 sm:flex-row sm:items-stretch sm:gap-0 sm:space-x-2 sm:pb-0 sm:pt-0 md:space-x-4"
      >
        <LinkPage
          href="/"
          class={`flex items-center header-navmenu-hover ${
            navSection === "home"
              ? "underline"
              : "link-interaction-underline-effect"
          }`}
          title="Home"
        />
        <LinkPage
          href="/about/"
          class={`flex items-center header-navmenu-hover ${
            navSection === "about"
              ? "underline"
              : "link-interaction-underline-effect"
          }`}
          title="About"
        />
        <div class="sm:relative group">
          <span
            data-cousemenu-state="close"
            class={`submenu-trigger h-full flex flex-row items-center cursor-pointer header-navmenu-hover ${
              navSection === "courses"
                ? "underline"
                : "link-interaction-underline-effect"
            }`}
          >
            Courses
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 320 512"
              class="util-icon"
              fill="currentColor"
              stroke="currentColor"
              stroke-width="15"
            >
              <path
                d="M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"
              ></path></svg
            >
            <!-- <span>Courses<i class="fa-solid fa-caret-down pl-1"></i></span> -->
          </span>
          <div
            class="sub-menu hidden sm:absolute flex-col gap-4 bg-navbar-color-pri rounded-md py-3 pl-5 sm:pt-6 sm:pb-4 sm:px-6 min-w-max sm:right-0"
          >
            <LinkPage
              href="/courses/"
              class="link-interaction-effect"
              title="All Courses"
            />
            <LinkPage
              href="/courses/multimedia/"
              class="link-interaction-effect"
              title="Multimedia Courses"
            />
            <LinkPage
              href="/courses/programming/"
              class="link-interaction-effect"
              title="Programming Courses"
            />
            <LinkPage
              href="/courses/kids/"
              class="link-interaction-effect"
              title="Kids Courses"
            />
          </div>
        </div>
        <a
          href="/contact/"
          class={`flex items-center header-navmenu-hover ${
            navSection === "contact"
              ? "underline"
              : "link-interaction-underline-effect"
          }`}
        >
          Contact
        </a>
      </nav>
    </div>

    <div
      class="mobile-social-links bg-navbar absolute bottom-0 left-0 z-20 box-border w-full px-2 pb-10 text-xl sm:box-content sm:hidden sm:w-auto sm:px-0 sm:pb-0"
    >
      <hr class="side-navmenu-border" />

      <div class="flex items-center space-x-4 px-4">
        <SocialLinks />
      </div>
    </div>
  </div>
</header>
